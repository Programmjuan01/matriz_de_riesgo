/*────────────────────────────
  Paleta y variables globales
─────────────────────────────*/
:root{
  --clr-bg:#0d0d0d;
  --clr-surface:#111111;
  --clr-primary:#C00000;
  --clr-primary-l:#e00000;
  --clr-text:#f2f2f2;
  --clr-muted:#9a9a9a;
  --radius:1rem;
  --transition:all .25s ease;
}

/*────────────────────────────
  Layout base
─────────────────────────────*/
body{
  font-family:"Segoe UI",system-ui,sans-serif;
  background:var(--clr-bg);
  color:var(--clr-text);
  min-height:100vh;
}
h1{color:var(--clr-primary);font-weight:700;}

/*────────────────────────────
  Cards
─────────────────────────────*/
.card{
  background:var(--clr-surface);
  border:none;
  border-radius:var(--radius);
  box-shadow:0 4px 14px rgba(0,0,0,.6);
  transition:var(--transition);
}
.card:hover{box-shadow:0 6px 22px rgba(192,0,0,.35);}

/*────────────────────────────
  Formulario
─────────────────────────────*/
label.form-label{color:var(--clr-muted);font-weight:600;letter-spacing:.2px;}
.form-control,.form-select{
  background:#1a1a1a;border:1px solid #333;border-radius:.5rem;color:var(--clr-text);
}
.form-control:focus,.form-select:focus{
  border-color:var(--clr-primary);
  box-shadow:0 0 0 .25rem rgba(192,0,0,.25);
  background:#141414;color:var(--clr-text);
}

/*────────────────────────────
  Botones
─────────────────────────────*/
.btn-primary{background:var(--clr-primary);border:none;box-shadow:0 0 8px rgba(192,0,0,.55);}
.btn-primary:hover{background:var(--clr-primary-l);box-shadow:0 0 12px rgba(192,0,0,.9);}
.btn-success{background:#1e1e1e;border:1px solid var(--clr-primary);color:var(--clr-text);box-shadow:0 0 6px rgba(192,0,0,.4);}
.btn-success:hover{background:var(--clr-primary);color:#fff;}
.btn-outline-danger{border:1px solid var(--clr-primary);color:var(--clr-primary);}
.btn-outline-danger:hover{background:var(--clr-primary);color:#fff;}

/*────────────────────────────*/
/***** Tabla — look profesional *****/
.table thead th{
  background:#151515;
  color:#fff;
  font-weight:600;
  border-color:rgb(223, 5, 5);
}
.table tbody td{                   /* <= asegúrate de que el texto sea visible */
  color:var(--clr-text);
}
.table-bordered>:not(caption)>*>*{border-color:#2b2b2b;}
.table-sm>:not(caption)>*>*{padding:.45rem .6rem;}
/* Riesgo por color */
td[data-impact="alto"],
td[data-impact="muy-alto"],
td[data-impact="crítico"]{
  background:rgba(192,0,0,.25);color:#fff;font-weight:600;
}
td[data-impact="medio"]{
  background:rgba(255,217,0,.25);color:#f2f2f2;font-weight:600;
}
td[data-impact="bajo"],
td[data-impact="muy-bajo"]{
  background:rgba(0,128,0,.25);color:#fff;font-weight:600;
}
/* Zebra & hover */
.table-striped>tbody>tr:nth-of-type(odd){background:#181818;}
.table-hover>tbody>tr:hover{background:rgba(192,0,0,.12);}
/* Scrollbar fino */
.table-responsive{scrollbar-width:thin;}
.table-responsive::-webkit-scrollbar{height:8px;}
.table-responsive::-webkit-scrollbar-thumb{background:#444;border-radius:4px;}

/*────────────────────────────
  Neon utilitario
─────────────────────────────*/
.neon{text-shadow:0 0 6px #C00000,0 0 12px #C00000,0 0 24px #C00000;}

/*────────────────────────────
  Responsive
─────────────────────────────*/
@media(max-width:768px){
  h1{font-size:clamp(1.4rem,4vw,1.9rem);}
  .btn{width:100%;}
  .table-responsive{margin-bottom:1rem;}
}
/*────────────────────────────
  Tweaks responsive ≤ 576 px
─────────────────────────────*/
@media (max-width: 576px) {
  /* 1. Layout columna 100 % alto */
  html, body            { height: 100%; }
  .container-fluid      { padding: .75rem; height: 100%;
                          display: flex; flex-direction: column; }

  /* 2. Form + tabla = flex children  */
  .form-card            { flex: 0 0 auto; }          /* no crece */
  .table-card           { flex: 1 1 auto; }          /* ocupa resto */
  .table-card .card-body{ padding: 0;                 /* quita margen extra */
                          overflow-y: auto;           /* scroll vertical */
                          max-height: 55vh; }         /* evita desborde */

  /* 3. Botones siempre accesibles */
  .botones-footer       { flex-direction: column;
                          gap: .5rem; }
  .botones-footer .btn  { width: 100%; }

  /* 4. Ajustes menores */
  .btn, .form-control,
  .form-select          { font-size: .85rem; }        /* texto legible pero compacto */
  h1                    { font-size: 1.25rem; }
}
/*────────────────────────────
  Extra‑compacto ≤ 420 px
─────────────────────────────*/
@media (max-width: 420px) {
  /* A) la tabla ocupa todo el alto que quede */
  .table-card .card-body{
    max-height: 60vh;          /* un poco más alto porque quitarás columnas */
  }

  /* B) Oculta columnas menos críticas       */
  /* → se eligen las de texto largo que más “ensancharon” */
  /*   (Macroproyecto, Descripción y Grupo CAPEX)          */
  thead th:nth-child(2),
  tbody  td:nth-child(2),      /* Macroproyecto  */
  thead th:nth-child(3),
  tbody  td:nth-child(3),      /* Descripción    */
  thead th:nth-child(5),
  tbody  td:nth-child(5)       /* Grupo CAPEX    */
  { display:none; }

  /* C) Ajusta ancho mínimo de las celdas visibles */
  .table th, .table td{
    min-width: 70px;
    word-break: break-word;
  }
}
